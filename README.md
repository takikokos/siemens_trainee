# siemens trainee task

Реализовано чтение/запись(одноканальная) файла в формате .wav

Реализован алгоритм поиска в файле заданного шаблона из другого файла.
Тестировался на детектирование хлопка. Исходный файл был продолжительностью 3-5 секунд. Файлы представлялись как временные ряды.

Перед поиском производится предобработка данных, прореживание и стандартизация, также тесты показали что 
поиск производится точнее и быстрее с использованием одноуровнего дискретного вейвлет-преобразования (оно сохраняет
расстяоние между рядами и уменьшает размер данных). Поиск осуществляется простым перебором, для оценки похожести 
образцов используются два метода: простое евклидово расстояние и расстояние найденное по оптимизированному(со сложностью О(N))
DTW-алгоритму (от англ. dynamic time warping). Несмотря на одинаковую сложность сравнения (вычисления расстояния) тесты 
показали что прстое евклидово расстояние рабоатет быстрее (0.02sec vs 20sec), возможно это связано с более медленной реализацией в используемой библиотеке. Точность была измерена на подготовленных образцах (папка audio)
с различными 10ю образцами и 5ю шаблонами для поиска.50 измерений показали что точность fastdtw выше почти в два раза 
(40% vs 70%), также на точность влияет длина шаблона поиска, можно повысить точность с более аккуратным обрезанием исходного
файла (или без обрезания в некоторых случаях). Результаты всех измерений (определнное время начала) записаны в 
./stat/data_output.txt где :

- correct time - это время начала хлопка, определенное вручную 
- norm trim nnoise  - предположительно наиболее предпочтительный вариант обработки шаблона, но данные измерения показали что 
нормализация звука (выравнивание громкости) на данных примерах не дало результата
- basic - сравнение чистого записанного шаблона с чистым образцом
- nnoise - сравнение шаблона с убранным шумом и образца с убранным шумом
- trim nnoise - сравенние обрезанного шаблона с убранным шумом и образца с убранным шумом
- cut out - определнное время начала где вместо шаблона использовался вырезанный фрагмент хлопка из данного образца

Для демонстрации работы алгоритмов можно запустить main.py, все зависимости для python3 указаны в requirements.txt. 
Реализована визуализация аудиопотока с возможным обозначением обнаруженного в нем шаблона, графики для тестовых данных находятся в соответствующих папках ./audio/samples/waves и ./audio/patterns/waves.
